import{o as e,q as t,s as a,O as s,$ as n,t as o,a4 as i,w as l,J as r}from"./preset_utils-Dg0Pd4HA.chunk.js";import{a2 as p,G as c,bg as d,bh as u,bi as h,bj as m,a7 as g,aa as f,aC as I,a8 as S,a9 as O,a as v,ac as y,ad as P,ae as A,af as b,ag as E,ah as M,ai as T,S as k,F as H,R as C,ak as G}from"./detailed_results-D0NcuTaI.chunk.js";import{A as w,M as x,O as R,T as D}from"./inputs-BbCGQedm.chunk.js";const j={type:"TypeAPL",prepullActions:[{action:{activateAura:{auraId:{spellId:1784}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:703}}}}},castSpell:{spellId:{spellId:703}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:5171}}}}},castSpell:{spellId:{spellId:5171}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"1s"}}}},{auraIsActive:{auraId:{spellId:5171}}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:1943}}},rhs:{const:{val:"2"}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"6"}}}},{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"6"}}}},{not:{val:{dotIsActive:{spellId:{spellId:1943}}}}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:58427}}}}},castSpell:{spellId:{spellId:1856}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"5s"}}}}]}},castSpell:{spellId:{spellId:14177}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{or:{vals:[{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:32645}}}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"55"}}}}]}},{and:{vals:[{auraIsActive:{auraId:{spellId:32645}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"80"}}}}]}}]}},{not:{val:{isExecutePhase:{threshold:"E35"}}}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{or:{vals:[{and:{vals:[{auraIsActive:{auraId:{spellId:32645}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"65"}}}}]}},{not:{val:{auraIsActive:{auraId:{spellId:32645}}}}}]}},{isExecutePhase:{threshold:"E35"}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{isExecutePhase:{threshold:"E35"}},{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:53}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E35"}}}},{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:1329}}}}]},B={items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:146},{id:65107,reforging:151},{id:65243,enchant:4204,gems:[52220],reforging:146},{id:69884,randomSuffix:-136,enchant:1099,reforging:151},{id:65239,enchant:4102,gems:[52212,52220],reforging:151},{id:65050,enchant:4258,gems:[0],reforging:144},{id:65240,enchant:4107,gems:[52212,0],reforging:153},{id:60231,gems:[52220,52212,52212],reforging:144},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220],reforging:153},{id:65144,enchant:4076,gems:[52212],reforging:153},{id:65367,randomSuffix:-136},{id:65082,reforging:147},{id:65026},{id:58181},{id:65081,enchant:4099},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:146}]},F=e("P1 Assassination",{items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:147},{id:65107,reforging:151},{id:65243,enchant:4204,gems:[52220],reforging:144},{id:69884,randomSuffix:-136,enchant:1099,reforging:151},{id:65239,enchant:4102,gems:[52212,52220],reforging:154},{id:65050,enchant:4258,gems:[0],reforging:144},{id:65240,enchant:4107,gems:[52212,0],reforging:154},{id:60231,gems:[52220,52212,52212],reforging:144},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220]},{id:65144,enchant:4076,gems:[52212]},{id:65367,randomSuffix:-136},{id:65082,reforging:147},{id:65026},{id:58181},{id:65081,enchant:4099,reforging:160},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:144}]}),L=e("P1 Expertise",B),q=t("Assassination",j),U={name:"Assassination 31/2/8",data:p.create({talentsString:"0333230013122110321-002-203003",glyphs:c.create({prime1:d.GlyphOfMutilate,prime2:d.GlyphOfBackstab,prime3:d.GlyphOfRupture,major1:u.GlyphOfFeint,major2:u.GlyphOfTricksOfTheTrade,major3:u.GlyphOfSprint})})},W=h.create({classOptions:{mhImbue:m.DeadlyPoison,ohImbue:m.InstantPoison,thImbue:m.DeadlyPoison,applyPoisonsManually:!1,startingOverkillDuration:20,vanishBreakTime:.1}}),z=g.create({defaultPotion:f.PotionOfTheTolvir,prepopPotion:f.PotionOfTheTolvir,defaultConjured:I.ConjuredRogueThistleTea,flask:S.FlaskOfTheWinds,food:O.FoodSkeweredEel}),_=a(k.SpecAssassinationRogue,{cssClass:"assassination-rogue-sim-ui",cssScheme:v.getCssClass(v.Rogue),knownIssues:["Rotations are not fully optimized, especially for non-standard setups."],epStats:[y.StatAgility,y.StatStrength,y.StatAttackPower,y.StatMeleeHit,y.StatMeleeCrit,y.StatSpellHit,y.StatSpellCrit,y.StatMeleeHaste,y.StatMastery,y.StatExpertise],epPseudoStats:[P.PseudoStatMainHandDps,P.PseudoStatOffHandDps],epReferenceStat:y.StatAttackPower,displayStats:[y.StatHealth,y.StatStamina,y.StatAgility,y.StatStrength,y.StatAttackPower,y.StatMeleeHit,y.StatSpellHit,y.StatMeleeCrit,y.StatSpellCrit,y.StatMeleeHaste,y.StatMastery,y.StatExpertise],defaults:{gear:F.gear,epWeights:A.fromMap({[y.StatAgility]:2.58,[y.StatStrength]:1.05,[y.StatAttackPower]:1,[y.StatSpellCrit]:.26,[y.StatSpellHit]:1.31,[y.StatMeleeHit]:.7,[y.StatMeleeCrit]:.62,[y.StatMeleeHaste]:1.1,[y.StatMastery]:1.23,[y.StatExpertise]:1.04},{[P.PseudoStatMainHandDps]:2.49,[P.PseudoStatOffHandDps]:1}),consumes:z,talents:U.data,specOptions:W,raidBuffs:b.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:E.create({}),individualBuffs:M.create({}),debuffs:T.create({mangle:!0,sunderArmor:!0,earthAndMoon:!0,bloodFrenzy:!0,shadowAndFlame:!0})},playerInputs:{inputs:[w()]},playerIconInputs:[x(),R(),D()],includeBuffDebuffInputs:[s,n,o,i],excludeBuffDebuffInputs:[],otherInputs:{inputs:[l]},encounterPicker:{showExecuteProportion:!1},presets:{talents:[U],rotations:[q],gear:[F,L]},autoRotation:e=>{e.sim.encounter.targets.length;return q.rotation.rotation},raidSimPresets:[{spec:k.SpecAssassinationRogue,talents:U.data,specOptions:W,consumes:z,defaultFactionRaces:{[H.Unknown]:C.RaceUnknown,[H.Alliance]:C.RaceHuman,[H.Horde]:C.RaceOrc},defaultGear:{[H.Unknown]:{},[H.Alliance]:{1:F.gear},[H.Horde]:{1:F.gear}}}]});class J extends r{constructor(e,t){super(e,t,_),this.player.changeEmitter.on((e=>{const t=this.player.getSpecOptions(),a=this.sim.encounter;if(!t.classOptions.applyPoisonsManually){const e=this.player.getGear().getEquippedItem(G.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(G.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===e||void 0===s)return;a.targets.length>3?(t.classOptions.mhImbue=m.InstantPoison,t.classOptions.ohImbue=m.InstantPoison):e<=s?(t.classOptions.mhImbue=m.DeadlyPoison,t.classOptions.ohImbue=m.InstantPoison):(t.classOptions.mhImbue=m.InstantPoison,t.classOptions.ohImbue=m.DeadlyPoison)}this.player.setSpecOptions(e,t)})),this.sim.encounter.changeEmitter.on((e=>{const t=this.player.getSpecOptions(),a=this.sim.encounter;if(!t.classOptions.applyPoisonsManually){const e=this.player.getGear().getEquippedItem(G.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(G.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===e||void 0===s)return;a.targets.length>3?(t.classOptions.mhImbue=m.InstantPoison,t.classOptions.ohImbue=m.InstantPoison):e<=s?(t.classOptions.mhImbue=m.DeadlyPoison,t.classOptions.ohImbue=m.InstantPoison):(t.classOptions.mhImbue=m.InstantPoison,t.classOptions.ohImbue=m.DeadlyPoison)}this.player.setSpecOptions(e,t)}))}}export{J as A};
